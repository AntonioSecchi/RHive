<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="RHive : RHive rhive@nexr.com" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>RHive</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/nexr/RHive">View on GitHub</a>

          <h1 id="project_title">RHive</h1>
          <h2 id="project_tagline">RHive rhive@nexr.com</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/nexr/RHive/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/nexr/RHive/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="intoroduction" class="anchor" href="#intoroduction"><span class="octicon octicon-link"></span></a>Intoroduction</h1>

<p>RHive is an R extension facilitating distributed computing via <a href="http://hive.apache.org/">Apache Hive</a>.</p>

<p>RHive allows easy usage of HQL(Hive SQL) in R, and allows easy usage of R objects and R functions in Hive.</p>

<p>Latest stable version of RHive is 1.0-0.1, <a href="http://cran.r-project.org/web/packages/RHive/">CRAN</a></p>

<blockquote>
<p>Before installing RHive, you have to have installed Hadoop and Hive</p>
</blockquote>

<h1>
<a name="installation-and-configuration" class="anchor" href="#installation-and-configuration"><span class="octicon octicon-link"></span></a>Installation and Configuration</h1>

<h2>
<a name="requirements" class="anchor" href="#requirements"><span class="octicon octicon-link"></span></a>Requirements</h2>

<ul>
<li>Java 1.6</li>
<li>R 2.13.0</li>
<li>Rserve 0.6-0</li>
<li>rJava 0.9-0</li>
<li>Hadoop 0.20.x (x &gt;= 1)</li>
<li>Hive 0.8.x (x &gt;= 0)</li>
</ul><h2>
<a name="install-hadoop" class="anchor" href="#install-hadoop"><span class="octicon octicon-link"></span></a>Install Hadoop</h2>

<ol>
<li>Single Node

<ul>
<li><a href="http://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-common/SingleCluster.html">Single node installation</a></li>
</ul>
</li>
<li>Cluster Node

<ul>
<li><a href="http://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-common/ClusterSetup.html">Cluster node installation</a></li>
</ul>
</li>
<li>set <strong>HADOOP_HOME</strong> at local machine on which R runs</li>
</ol><h2>
<a name="install-hive" class="anchor" href="#install-hive"><span class="octicon octicon-link"></span></a>Install Hive</h2>

<ol>
<li>install local machine and remote machine on which NameNode runs or Hive-Server runs.</li>
<li>Installation Guide 

<ul>
<li><a href="https://cwiki.apache.org/confluence/display/Hive/GettingStarted#GettingStarted-InstallationandConfiguration">Hive installation guide</a></li>
</ul>
</li>
<li>set <strong>HIVE_HOME</strong> at local machine on which R runs.</li>
<li>launch Hive Server with following command on remote machine. it should be as a background process.

<ul>
<li><code>$HIVE_HOME/bin/hive --service hiveserver</code></li>
</ul>
</li>
</ol><h2>
<a name="install-r-and-packages" class="anchor" href="#install-r-and-packages"><span class="octicon octicon-link"></span></a>Install R and Packages</h2>

<ol>
<li>install R

<ul>
<li>need to install R on all tasktracker nodes</li>
</ul>
</li>
<li>install rJava

<ul>
<li>only install rJava on local machine.</li>
</ul>
</li>
<li>Rserve mode - install Rserve

<ul>
<li>need to install Rserve on all tasktracker nodes</li>
<li>set <strong>RHIVE_DATA</strong> as R objects and R functions repository on all tasktracker nodes. if <strong>RHIVE_DATA</strong> is not set then it will be '/tmp' as a default.

<ul>
<li>e.g&gt; <code>export RHIVE_DATA=/rhive/data</code>
</li>
</ul>
</li>
<li>make configuration in path (/etc/Rserv.conf) on all tasktracker nodes.
 edit this file to add 'remote enable' to allow remote connection.</li>
<li>launch all Rserve on all tasktracker nodes.

<ul>
<li>e.q&gt; <code>R CMD Rserve</code>
</li>
</ul>
</li>
</ul>
</li>
<li>No Rserve mode - setting tasktracker nodes (Optional)

<ol>
<li>set RHIVE_DATA as R objects and R functions repository on all tasktracker nodes.

<ul>
<li>e.q&gt; <code>export RHIVE_DATA=/rhive/data</code>
</li>
</ul>
</li>
<li>add R_HOME path at $HADOOP_HOME/conf/hadoop-env.sh

<ul>
<li>e.q&gt; <code>export R_HOME=/usr/lib/R</code>
</li>
</ul>
</li>
</ol>
</li>
<li>install RUnit</li>
</ol><h2>
<a name="install-rhive" class="anchor" href="#install-rhive"><span class="octicon octicon-link"></span></a>Install RHive</h2>

<ol>
<li>Requirements

<ul>
<li>ant (in order to build jar files)</li>
</ul>
</li>
<li>Installing RHive

<ol>
<li>Compressed package: <code>R CMD INSTALL RHive_1.0-0.1.tar.gz</code>
</li>
<li>Source code: <code>R CMD INSTALL ./RHive</code>
</li>
</ol>
</li>
<li>If <strong>HADOOP_HOME</strong> doesn't exist, do following instruction :

<ol>
<li>copy RUDF/RUDAF library(rhive_udf.jar) to '/rhive/lib/' of HDFS path, 
using this command : 'hadoop fs -put rhive_udf.jar /rhive/lib/rhive_udf.jar'. 
this jar file exists under $HIVE_HOME/lib. </li>
</ol>
</li>
</ol><h2>
<a name="loading-rhive-and-connecting-to-hive" class="anchor" href="#loading-rhive-and-connecting-to-hive"><span class="octicon octicon-link"></span></a>Loading RHive and connecting to Hive</h2>

<ol>
<li>launch R
<pre><code>library(RHive)
rhive.connect(hive-server-ip)</code></pre>
</li>
</ol><h1>
<a name="documentation" class="anchor" href="#documentation"><span class="octicon octicon-link"></span></a>Documentation</h1>

<h2>
<a name="tutorials" class="anchor" href="#tutorials"><span class="octicon octicon-link"></span></a>Tutorials</h2>

<ul>
<li><a href="https://github.com/nexr/RHive/wiki/UserGuides">RHive user guide</a></li>
</ul><hr><p><a href="mailto:rhive@nexr.com">contact</a></p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">RHive maintained by <a href="https://github.com/nexr">nexr</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
